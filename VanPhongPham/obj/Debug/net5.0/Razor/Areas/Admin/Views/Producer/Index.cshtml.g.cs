#pragma checksum "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Areas\Admin\Views\Producer\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "8125e74b68894c13b18af40aaf56380ace913591"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Admin_Views_Producer_Index), @"mvc.1.0.view", @"/Areas/Admin/Views/Producer/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"8125e74b68894c13b18af40aaf56380ace913591", @"/Areas/Admin/Views/Producer/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"57218c316b6921e2cd61027a2387edc31a2d9471", @"/Areas/Admin/Views/_ViewImports.cshtml")]
    public class Areas_Admin_Views_Producer_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<VanPhongPhamDTO.Entities.Producer>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Areas\Admin\Views\Producer\Index.cshtml"
  
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<div class=""container-fluid"">
    <div class=""row"">
        <div class=""col-12"">
            <div class=""card"">
                <div class=""card-header"">
                    <h3 class=""card-title""><button class=""btn btn-primary"" data-toggle=""modal"" data-target=""#myModal""> Thêm mới</button></h3>
                </div>
                <!-- /.card-header -->
                <div class=""card-body"">
                    <table id=""example2"" class=""table table-bordered table-hover"">
                        <thead>
                            <tr>
                                <th>Mã</th>
                                <th>Tên nhà sản xuất</th>
                                <th>Ảnh đại diện</th>
                                <th>Mô tả</th>
                                <th>Quốc gia</th>
                                <th>Chức năng</th>
                            </tr>
                        </thead>
                        <tbody class=""tbody"">
                        </tbody>
      ");
            WriteLiteral(@"              </table>
                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</div>
<div class=""modal"" id=""myModal"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <!--Modal header-->
            <div class=""modal-header"">
                <h4>Cập nhật nhà cung cấp</h4>
                <button class=""close"" data-dismiss=""modal"">&times;</button>
            </div>
            <!--Modal body-->
            <div class=""modal-body"">
                <form method=""post"" action=""/Admin/Producer/Create"" enctype=""multipart/form-data"">
                    <div class=""row"">
                        <div class=""col-6"">
                            <div class=""form-group"">
                                <div class=""mt-2 mb-2"">
                                    <img id=""blah"" src=""#"" alt=""your image"" height=""200"" class=""d-block mx-auto"" />");
            WriteLiteral(@"
                                </div>
                                <div class=""custom-file"">
                                    <input type=""file"" class=""custom-file-input"" id=""customFile"" name=""customFile"" accept=""image/*"" onchange=""document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])"">
                                    <label class=""custom-file-label"" for=""customFile"" id=""blah"">Chọn ảnh</label>
                                </div>
                            </div>
                        </div>
                        <div class=""col-6"">
                            <div class=""form-group"">
                                <label>Tên nhà sản xuất</label>
                                <input type=""text"" id=""Producer_Name"" name=""Producer_Name"" class=""form-control"" />
                            </div>
                            <div class=""form-group"">
                                <label>Mô tả</label>
                                <input type=""text"" i");
            WriteLiteral(@"d=""Producer_Description"" name=""Producer_Description"" class=""form-control"" />
                            </div>
                            <div class=""form-group"">
                                <label>Xuất xứ</label>
                                <input type=""text"" id=""Origin"" name=""Origin"" class=""form-control"" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!--Modal footer-->
            <div class=""modal-footer"">
                <button class=""btn btn-primary"" id=""btnAdd"" onclick=""return Add();"">Thêm</button>
                <button class=""btn btn-success"" style=""display:none;"">Cập nhật</button>
                <button class=""btn btn-danger"" data-dismiss=""modal"">Đóng</button>
            </div>
        </div>
    </div>
</div>

<script type=""text/javascript"">

    function loadData() {
        $.ajax({
            url: ""/Admin/Producer/List"",
            type: ""GET"",
       ");
            WriteLiteral(@"     contentType: ""application/json;charset=utf-8"",
            dataType: ""json"",
            success: function (result) {
                var data = '';
                $.each(result, function (key, item) {
                    data += '<tr>';
                    data += '<td>' + item.producer_Id + '</td>';
                    data += '<td>' + item.producer_Name + '</td>';
                    if (item.producer_Images != null) {
                        data += '<td><img src=""/images/' + item.producer_Images + '""alt=""Alternate Text"" height=""100"" /></td>';
                    } else {
                        data += '<td></td>';
                    }
                    if (item.producer_Description != null) {
                        data += '<td>' + item.producer_Description + '</td>';
                    } else {
                        data += '<td></td>';
                    }
                    data += '<td>' + item.origin + '</td>';
                    data += '<td></td>';
            ");
            WriteLiteral(@"        data += '</tr>';
                });
                $("".tbody"").html(data);
            },
            error: function (errorMessage) {
                alert(errorMessage.responseText);
            }
        });
    }
    function Add() {
        //$(""#customFile"").change(function () {
        //    if (window.FormData != undefined) {
        //        var fileUpload = $(""#customFile"").get(0);
        //        var file = fileUpload.files;
        //        var formData = new FormData();
        //        formData.append(""file"", files[0]);
        //    }
            
        //})
       
        var obj = {
            Producer_Name: $(""#Producer_Name"").val(),
            Producer_Images: $(""#customFile"").val().split('\\').pop(),
            Producer_Description: $(""#Producer_Description"").val(),
            Origin: $(""#Origin"").val()
        };
        $.ajax({
            url: ""/Admin/Producer/Create"",
            data: JSON.stringify(obj),
            contentType: ""ap");
            WriteLiteral(@"plication/json;charset=utf-8"",
            dataType: ""json"",
            type: ""POST"",
            traditional: true,
            success: function (result) {
                loadData();
                //Ẩn modal
                $(""#myModal"").modal('hide');
            },
            error: function (errorMessage) {
                alert(errorMessage.responseText);
            }
        });
        //lấy các giá trị trong textbox
        
    }
</script>



");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<VanPhongPhamDTO.Entities.Producer> Html { get; private set; }
    }
}
#pragma warning restore 1591
