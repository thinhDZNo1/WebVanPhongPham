#pragma checksum "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d35a62ba5204e1d27e82a83cb993b2ec661b15f1"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Cart_ShoppingCart), @"mvc.1.0.view", @"/Views/Cart/ShoppingCart.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\_ViewImports.cshtml"
using VanPhongPham;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\_ViewImports.cshtml"
using VanPhongPham.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
using VanPhongPhamDTO.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
using VanPhongPhamDTO.EntityFramework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d35a62ba5204e1d27e82a83cb993b2ec661b15f1", @"/Views/Cart/ShoppingCart.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3be38da4f166896812bcfd9e5a8f1300823c9a22", @"/Views/_ViewImports.cshtml")]
    public class Views_Cart_ShoppingCart : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/jquery-3.5.1.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 4 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
  
    ViewData["Title"] = "Giỏ hàng";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    VanPhongPhamContext db = new VanPhongPhamContext();
    List<CartItem> cartItems = (List<CartItem>)Context.Session.Get<List<CartItem>>("Cart");

#line default
#line hidden
#nullable disable
            WriteLiteral("<nav aria-label=\"breadcrumb\">\r\n    <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><a href=\"/Home/Index\">Trang chủ</a></li>\r\n        <li class=\"breadcrumb-item\"><a");
            BeginWriteAttribute("href", " href=\"", 528, "\"", 535, 0);
            EndWriteAttribute();
            WriteLiteral(@">Giỏ hàng</a></li>
    </ol>
</nav>
<div class=""container"" style=""padding: 0 50px;"">
    <a href=""/Home/Index"" style=""font-size: 16px;"">&lt; Mua thêm nhiều sản phẩm </a>
    <div class=""content-cart"">

    </div>
    <hr>
    <div class=""row"">
        <div class=""col col-10 p-1"" style=""text-align: right; font-size: 20px;"">
            <p>Tổng tiền: <span id=""total""></span></p>

        </div>
        <div class=""col-2"">
");
#nullable restore
#line 28 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
             if (Context.Session.GetInt32("userid") == null)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <button class=\"btn btn-info btn-block\"");
            BeginWriteAttribute("onclick", " onclick=\"", 1106, "\"", 1178, 3);
            WriteAttributeValue("", 1116, "location.href=\'", 1116, 15, true);
#nullable restore
#line 30 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
WriteAttributeValue("", 1131, Url.Action("Login", "Account", new { id=11 }), 1131, 46, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1177, "\'", 1177, 1, true);
            EndWriteAttribute();
            WriteLiteral(">Thanh Toán</button>\r\n");
#nullable restore
#line 31 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <button class=\"btn btn-info\"");
            BeginWriteAttribute("onclick", " onclick=\"", 1293, "\"", 1347, 3);
            WriteAttributeValue("", 1303, "location.href=\'", 1303, 15, true);
#nullable restore
#line 34 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
WriteAttributeValue("", 1318, Url.Action("Order", "Cart"), 1318, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1346, "\'", 1346, 1, true);
            EndWriteAttribute();
            WriteLiteral(">Thanh Toán</button>\r\n");
#nullable restore
#line 35 "C:\Users\tranp\OneDrive\Tài liệu\DoAnNet\VanPhongPham\Views\Cart\ShoppingCart.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "d35a62ba5204e1d27e82a83cb993b2ec661b15f17322", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script type=""text/javascript"">
    $(document).ready(function () {
        loadData();
    })
    function loadData() {

        $.ajax({
            url: ""/Cart/ListCarts"",//""/Admin/Supplier/List"" để này ko cũng đc
            type: ""GET"",
            contentType: ""application/json;charset=utf-8"",
            dataType: ""json"",
            success: function (result) {
                var data = '';
                var total = 0;
                var i = 0;
                $.each(result, function (key, item) {
                    data += '<div class=""row mt-4"" style=""margin: 0 20px;"">';
                    data += '<div class=""col-2"">';
                    data += '<img src=""/images/' + item.products.product_Images + '"" width=""120"" height=""120"" alt="""">';
                    data += '</div >';
                    data += '<div class=""col-6 pt-2"">';
                    data += '<h4>' + item.products.product_Name + '</h4>';
                    data += '</div>';
                    data +=");
            WriteLiteral(@" '<div class=""col-2 pt-2"">';
                    if (item.products.newPrice == 0) {
                        data += '<p style=""font-size: 20px; font-weight: bold; color: darkcyan;"">' + item.products.price.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) + '</p>';
                        total += item.products.price * item.quantity;
                    } else {
                        data += '<p style=""font-size: 20px; font-weight: bold; color: darkcyan;"">' + item.products.newPrice.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) + '</p>';
                        data += '<p style=""font-size: 18px; text-decoration: line-through;"">' + item.products.price.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) + '</p>';
                        total += item.products.newPrice * item.quantity;
                    }
                    data += '</div>';
                    data += '<div class=""col-2 pt-2"">';
                    data += '<div class=""input-group"">'
 ");
            WriteLiteral(@"                   data += '<div class=""input-group-prepend"">'
                    data += '<button style=""min-width: 2.5rem"" class=""btn btn-decrement btn-outline-secondary btn-minus"" onclick=""downnumber(' + i + ',' + item.products.product_Id + ')"" type=""button""><strong>−</strong></button>'
                    data += ' </div>'
                    data += '<input type=""text"" inputmode=""decimal"" style=""text-align: center; width:50px;"" class=""form-control numberichUpDown sos' + i + '"" value=""' + item.quantity + '"" placeholder="""">'
                    data += '<div class=""input-group-append"">'
                    data += '<button style=""min-width: 2.5rem"" class=""btn btn-increment btn-outline-secondary btn-plus"" onclick=""upnumber(' + i + ',' + item.products.product_Id + ')"" type=""button""><strong>+</strong></button>'
                    data += '</div>'
                    data += '</div>'
                    data += '<button class=""btn btn-outline-danger mt-3"" style=""width: 100%;"" onclick=""return deletefr");
            WriteLiteral(@"omcart(' + item.products.product_Id + ')"">xóa</button>';
                    data += '</div>';
                    data += '</div>';
                    data += '<hr>';
                    i++;
                });
                if (data.length == 0) {
                    $("".content-cart"").html('<div class=""text-center""><h4> Bạn chưa thêm sản phẩm nào vào giỏ hàng! </h4>  <a href=""/Home/Index"" style=""font-size: 16px;"">Quay lại mua hàng. </a></div>');
                } else {
                    $("".content-cart"").html(data);
                }
                $(""#total"").html(total.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }));

            },
            error: function (errorMessage) {
                alert(errorMessage.responseText);
            }
        });
    }
    function upnumber(so, id) {
        var up = parseInt($("".sos"" + so).val());
        $("".sos"" + so).val(up + 1);
        $.ajax({
            url: ""/Cart/AddToCart"",
            type: ""POST"",
    ");
            WriteLiteral(@"        data: { id: id },
            success: function (result) {
                $(""#counts"").html(result.total);
                $(""#total"").html(result.summary.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }));
                //loadData();
            }
        })
    }
    function downnumber(so, id) {
        var down = parseInt($("".sos"" + so).val());
        if (down > 1) {
            $("".sos"" + so).val(down - 1);
            $.ajax({
                url: ""/Cart/ReduceProductCart"",
                type: ""POST"",
                data: { id: id },
                success: function (result) {
                    $(""#counts"").html(result.total);
                    $(""#total"").html(result.summary.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }));
                    //loadData();
                }
            })
        }
    }
    function deletefromcart(id) {
        if (confirm(""Bạn có chắc chắn muốn xóa?"")) {
            $.ajax({
               ");
            WriteLiteral(@" url: ""/Cart/RemoveCart"",
                type: ""POST"",
                data: { id: id },
                success: function (result) {
                    confirm(""Đã xóa 1 sản phẩm khỏi giỏ hàng!"");
                    $(""#counts"").html(result.total);
                    loadData();
                }
            })
        }
    }
    function linkLogin() {
        $("".linklogin"").attr(""href"", ""/Account/Login/9"");
        $("".linkregister"").attr(""href"", ""/Account/Login/10"");
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
